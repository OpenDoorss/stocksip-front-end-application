<div class="sales-order-bg">
  <app-side-navbar />
  <div class="sales-order-main">
    <app-tool-bar [titleKey]="'Orders'"></app-tool-bar>

    <div class="order-container">
      <mat-card *ngFor="let order of orders" class="order-card">
        <mat-card-title>Order #{{ order.id }}</mat-card-title>
        <mat-card-content>
          <div class="order-meta">
            <p><strong>Date:</strong> {{ order.date | date: 'shortDate' }}</p>
            <p><strong>Buyer:</strong> {{ order.buyer.email }}</p>
            <p>
              <strong>Status:</strong>
              <span class="status-badge" [ngClass]="order.status.toLowerCase()">
                {{ order.status }}
              </span>
            </p>
            <p><strong>Total:</strong> {{ formatPrice(order.totalAmount) }}</p>
          </div>

          <div class="order-items">
            <h4>Items:</h4>
            <ul>
              <li *ngFor="let item of order.items">
                {{ item.name }} â€“
                <span class="price">{{ formatPrice(item.unitPrice) }}</span>
              </li>
            </ul>
          </div>

          <mat-card-actions>
            <button mat-raised-button color="primary" (click)="openStatusDialog(order)">
              Change Status
            </button>
          </mat-card-actions>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
